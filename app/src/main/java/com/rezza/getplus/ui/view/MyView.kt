package com.rezza.getplus.ui.viewimport android.widget.RelativeLayoutimport android.app.Activityimport android.content.Contextimport android.view.LayoutInflaterimport android.content.ContextWrapperimport android.util.AttributeSetabstract class MyView(context: Context?, attrs: AttributeSet?) : RelativeLayout(context, attrs) {    protected var mActivity: Activity? = null    init {        LayoutInflater.from(context).inflate(this.setlayout(), this, true)        this.initLayout()        this.initListener()        this.initData()    }    open fun create(){        mActivity = scanForActivity(context)    }    protected abstract fun setlayout(): Int    protected abstract fun initLayout()    protected abstract fun initListener()    protected fun initData() {}    protected fun scanForActivity(context: Context?): Activity? {        if (context == null) return null else if (context is Activity) return context else if (context is ContextWrapper) return scanForActivity(            context.baseContext        )        return null    }}